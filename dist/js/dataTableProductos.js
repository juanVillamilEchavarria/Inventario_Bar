let datatable,datatableInicio=!1;const datatableParametros={lengthMenu:[5,10,20,100],columnDefs:[{className:"text-center align-middle",targets:[0,1,2,3,4,5]},{orderable:!1,targets:[1,5]},{width:"20%",targets:[1]},{targets:[5],visible:!1}],destroy:!0,language:{decimal:"",emptyTable:"No hay informaci√≥n",info:"Mostrando _START_ a _END_ de _TOTAL_ Entradas",infoEmpty:"Mostrando 0 to 0 of 0 Entradas",infoFiltered:"(Filtrado de _MAX_ total entradas)",infoPostFix:"",thousands:",",lengthMenu:"Mostrar _MENU_ Entradas",loadingRecords:"Cargando...",processing:"Procesando...",search:"Buscar:",zeroRecords:"Sin resultados encontrados",paginate:{first:"Primero",last:"Ultimo",next:"Siguiente",previous:"Anterior"}},scrollX:!1};function ajustarScroll(){let a=window.innerWidth;datatableParametros.scrollX=a<=768,datatableInicio&&(datatable.destroy(),datatable=$("#datatable_productos").DataTable(datatableParametros))}const datatableRun=async()=>{1==datatableInicio&&datatable.destroy(),await listaProductos(),datatable=$("#datatable_productos").DataTable(datatableParametros),datatableInicio=!0,ajustarScroll()};window.addEventListener("resize",()=>{datatableInicio&&ajustarScroll()});const listaProductos=async function(){try{const a=await fetch("src/php/funciones/tablaProductos.php",{method:"GET",credentials:"include"}),t=await a.json();let e="";t.forEach(a=>{e+=`\n                    <tr>\n                        <td class="text-center tabla-campo">${a.id}</td>\n                        <td class="text-center tabla-campo">\n                           <img src="data:image/jpeg;base64,${a.imagen}" \n                                />\n                        </td>\n                        <td class="text-center tabla-campo">${a.nombre}</td>\n                        <td class="text-center tabla-campo">$${a.precio}</td>\n                        <td class="text-center tabla-campo">${a.stock}</td>\n                        <td class="text-center tabla-campo">\n                            <button  class="btn btn-primary btn-modificar " data-id="${a.id}"><i class="fa-solid fa-pen"></i></button>\n                            <button class="btn btn-danger btn-eliminar" data-id="${a.id}"><i class="fa-solid fa-trash"></i></button>\n                        </td>\n                    </tr>`});document.querySelector("#tableBody_productos").innerHTML=e}catch(a){alert(a)}};window.addEventListener("load",async()=>{await datatableRun()});const modificar=document.querySelector(".modificar"),listar=document.querySelector(".listar");modificar.onclick=async()=>{datatableInicio&&await datatable.column(5).visible(!0)},listar.addEventListener("click",async()=>{datatableInicio&&datatable.column(5).visible(!1)});